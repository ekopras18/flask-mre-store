{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">
        <button type="button" class="close" data-dismiss="alert">×</button>
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

{% if updateprofile %}
<div class="alert alert-success">
  <button type="button" class="close" data-dismiss="alert">×</button>
    {{ updateprofile }} Please <a href="/logout">登出</a> 并再次登录
</div>
{% endif %}

{% if send %}
<div class="alert alert-info">
  <button type="button" class="close" data-dismiss="alert">×</button>
    <small>{{ send }} <a href="/articles">看这里</a></small>
</div>
{% endif %}

{% if user_update %}
<div class="alert alert-info">
  <button type="button" class="close" data-dismiss="alert">×</button>
    <small>{{ user_update }} <a href="/user/{{session.username}}">看这里</a></small>
</div>
{% endif %}

{% if delete %}
<div class="alert alert-info">
  <button type="button" class="close" data-dismiss="alert">×</button>
    <small>{{ delete }} <a href="/articles">看这里</a></small>
</div>
{% endif %}

{% if error %}
  <div class="alert alert-danger">
      <button type="button" class="close" data-dismiss="alert">×</button>
      {{error}}
    </div>
{% endif %}

{% if msg %}
    <center>
      <p>{{msg}}</p>
      <a href="/viewproduct"><button type="button" class="btn btn-primary">回到购物区</button></a>
    </center>
{% endif %}
